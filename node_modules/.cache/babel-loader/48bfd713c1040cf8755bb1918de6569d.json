{"ast":null,"code":"import _asyncToGenerator from\"/Users/lokeshwaranbasha/Desktop/attendance-portal-frontend-patch-1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/lokeshwaranbasha/Desktop/attendance-portal-frontend-patch-1/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/lokeshwaranbasha/Desktop/attendance-portal-frontend-patch-1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/lokeshwaranbasha/Desktop/attendance-portal-frontend-patch-1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/lokeshwaranbasha/Desktop/attendance-portal-frontend-patch-1/node_modules/@babel/runtime/regenerator/index.js\";import{Box,Typography}from\"@mui/material\";import axios from\"axios\";import React,{useState}from\"react\";import{decodeToken}from\"react-jwt\";import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";toast.configure();function StaffChange(){// token value\nvar data=localStorage.getItem(\"staff-token\");var decodedToken=decodeToken(data);var _useState=useState({old:'',new:''}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var handleChange=function handleChange(e){setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},e.target.name,e.target.value)));};//onclick\nvar handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.put('https://attendance-portal-backend.herokuapp.com/staffchangepsw',{old:state.old,new:state.new,staffid:decodedToken.staffid});case 3:setState({old:'',new:''});toast.success(\"Password Updated Successfully\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);toast.error(\"Old Password is Incorrect\");case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Box,{sx:{width:\"100%\",pb:4},children:[/*#__PURE__*/_jsx(Typography,{sx:{textAlign:\"center\",pt:5,pb:2,fontFamily:\"Ubuntu\",mb:2},children:\"Change Password\"}),/*#__PURE__*/_jsxs(Box,{sx:{mx:2,textAlign:'center'},children:[/*#__PURE__*/_jsx(\"table\",{style:{margin:'auto'},children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{fontWeight:600},children:\"Old Password\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"old\",value:state.old,onChange:handleChange,className:\"change-input\",autoComplete:\"off\"})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{fontWeight:600},children:\"New Password\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"new\",value:state.new,onChange:handleChange,className:\"change-input\",autoComplete:\"off\"})})]}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{})]})}),state.old!==''&&state.new!==''?/*#__PURE__*/_jsx(\"button\",{className:\"chg-psw-btn\",onClick:handleSubmit,sx:{px:2,py:1},children:\"Change My Password\"}):/*#__PURE__*/_jsx(\"button\",{className:\"chg-dis-psw-btn\",disabled:true,sx:{px:2,py:1},children:\"Change My Password\"})]})]})});}export default StaffChange;","map":{"version":3,"sources":["/Users/lokeshwaranbasha/Desktop/attendance-portal-frontend-patch-1/src/Components/staff/StaffChange.jsx"],"names":["Box","Typography","axios","React","useState","decodeToken","toast","configure","StaffChange","data","localStorage","getItem","decodedToken","old","new","state","setState","handleChange","e","target","name","value","handleSubmit","put","staffid","success","error","width","pb","textAlign","pt","fontFamily","mb","mx","margin","fontWeight","px","py"],"mappings":"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","sourcesContent":["import { Box, Typography } from \"@mui/material\";\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { decodeToken } from \"react-jwt\";\nimport {toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\ntoast.configure()\n\nfunction StaffChange() {\n  // token value\n  var data = localStorage.getItem(\"staff-token\");\n  const decodedToken = decodeToken(data);\n  const [state,setState] = useState({old:'',new:''})\n  const handleChange=(e)=>{\n      setState({...state,[e.target.name]:e.target.value})\n  }\n  \n  //onclick\n  const handleSubmit = async ()=>{\n    try{\n      await axios.put('https://attendance-portal-backend.herokuapp.com/staffchangepsw',{\n      old:state.old,new:state.new,staffid:decodedToken.staffid\n    })\n    setState({old:'',new:''})\n    toast.success(\"Password Updated Successfully\")\n    }\n    catch(err){\n      toast.error(\"Old Password is Incorrect\")\n    }\n  }\n  return (\n    <>\n      <Box sx={{ width: \"100%\",pb: 4 }}>\n        <Typography sx={{ textAlign: \"center\",pt:5,pb:2,fontFamily: \"Ubuntu\", mb: 2 }}>\n          Change Password\n        </Typography>\n        <Box sx={{ mx: 2,textAlign:'center'}}>\n\n       <table style={{margin:'auto'}}>\n         <tbody>\n           <tr>\n             <td style={{fontWeight:600}}>Old Password</td>\n             <td><input type=\"text\" name=\"old\" value={state.old} onChange={handleChange} className=\"change-input\" autoComplete=\"off\"/></td>\n           </tr>\n           <br />\n           <tr>\n             <td style={{fontWeight:600}}>New Password</td>\n             <td><input type=\"text\" name=\"new\" value={state.new} onChange={handleChange} className=\"change-input\" autoComplete=\"off\"/></td>\n           </tr>\n           <br /> <br />\n         </tbody>\n       </table> \n          {state.old!=='' && state.new!=='' ?<button className=\"chg-psw-btn\" onClick={handleSubmit} sx={{px:2,py:1}} >Change My Password</button>:<button className=\"chg-dis-psw-btn\" disabled sx={{px:2,py:1}} >Change My Password</button>}\n        </Box>\n      </Box>\n    </>\n  );\n}\n\nexport default StaffChange;"]},"metadata":{},"sourceType":"module"}