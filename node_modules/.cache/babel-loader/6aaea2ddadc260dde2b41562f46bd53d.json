{"ast":null,"code":"import _asyncToGenerator from\"/Users/lokeshwaranbasha/Desktop/attendance-portal-frontend-patch-1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/lokeshwaranbasha/Desktop/attendance-portal-frontend-patch-1/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/lokeshwaranbasha/Desktop/attendance-portal-frontend-patch-1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/lokeshwaranbasha/Desktop/attendance-portal-frontend-patch-1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/lokeshwaranbasha/Desktop/attendance-portal-frontend-patch-1/node_modules/@babel/runtime/regenerator/index.js\";import{Box,Typography}from\"@mui/material\";import axios from\"axios\";import React,{useState}from\"react\";import{decodeToken}from\"react-jwt\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ApplyLeave(){// token value\nvar data=localStorage.getItem(\"stud-token\");var decodedToken=decodeToken(data);var _useState=useState({fromdate:'',todate:'',message:'',regno:'',name:''}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var handleChange=function handleChange(e){var _objectSpread2;setState(_objectSpread(_objectSpread({},state),{},(_objectSpread2={},_defineProperty(_objectSpread2,e.target.name,e.target.value),_defineProperty(_objectSpread2,\"regno\",decodedToken.regno),_defineProperty(_objectSpread2,\"name\",decodedToken.studentname),_objectSpread2)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(state);_context.next=3;return axios.post('https://attendance-portal-backend.herokuapp.com/applyleave',state);case 3:setState({fromdate:'',todate:'',message:'',regno:'',name:''});toast.success(\"Leave Applied\");case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Box,{sx:{width:\"100%\",pb:4},children:[/*#__PURE__*/_jsx(Typography,{sx:{textAlign:\"center\",fontFamily:\"Ubuntu\",mb:2,pt:4},children:\"Leave Form\"}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(\"table\",{style:{margin:'auto'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"From Date\"}),/*#__PURE__*/_jsx(\"td\",{children:\"To Date\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"fromdate\",value:state.fromdate,onChange:handleChange})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"todate\",value:state.todate,onChange:handleChange})})]}),/*#__PURE__*/_jsx(\"br\",{})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{onChange:handleChange,name:\"message\",value:state.message,placeholder:\"Message:\",rows:\"5\",cols:\"30\"})})}),state.fromdate!==''&&state.todate!==\"\"&&state.message!==''?/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"stud-button\",type:\"submit\",children:\"Apply\"}):/*#__PURE__*/_jsx(\"button\",{disabled:true,style:{cursor:'not-allowed'},className:\"stud-button\",type:\"submit\",children:\"Apply\"})]})});}export default ApplyLeave;","map":{"version":3,"sources":["/Users/lokeshwaranbasha/Desktop/attendance-portal-frontend-patch-1/src/Components/student/ApplyLeave.jsx"],"names":["Box","Typography","axios","React","useState","decodeToken","toast","ApplyLeave","data","localStorage","getItem","decodedToken","fromdate","todate","message","regno","name","state","setState","handleChange","e","target","value","studentname","handleSubmit","console","log","post","success","width","pb","textAlign","fontFamily","mb","pt","margin","display","justifyContent","cursor"],"mappings":"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","sourcesContent":["import { Box, Typography } from \"@mui/material\";\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { decodeToken } from \"react-jwt\";\nimport { toast } from \"react-toastify\";\n\nfunction ApplyLeave() {\n   // token value\n  var data = localStorage.getItem(\"stud-token\");\n  const decodedToken = decodeToken(data);\n   const [state,setState] = useState({fromdate:'',todate:'',message:'',regno:'',name:''})\n   const handleChange = (e)=>{\n         setState({...state,[e.target.name]:e.target.value,regno:decodedToken.regno,name:decodedToken.studentname})\n   \n   }\n   const handleSubmit = async ()=>{\n      console.log(state);\n      await axios.post('https://attendance-portal-backend.herokuapp.com/applyleave',state)\n      setState({fromdate:'',todate:'',message:'',regno:'',name:''})\n      toast.success(\"Leave Applied\")\n\n   }\n  return (\n    <>\n      <Box sx={{ width: \"100%\", pb: 4 }}>\n        <Typography\n          sx={{ textAlign: \"center\", fontFamily: \"Ubuntu\", mb: 2, pt: 4 }}>\n         Leave Form\n        </Typography>\n        <Box>\n           <table style={{margin:'auto'}}>\n              <thead>\n                 <tr>\n                    <td>From Date</td>\n                    <td>To Date</td>\n                 </tr>\n              </thead>\n              <tbody>\n                 <tr>\n                    <td><input type=\"date\" name=\"fromdate\" value={state.fromdate} onChange={handleChange} /></td>\n                    <td><input type=\"date\" name=\"todate\" value={state.todate} onChange={handleChange} /></td>\n                 </tr>\n                 <br />\n              </tbody>\n           </table>\n        </Box>\n        <div style={{display:'flex',justifyContent:'center'}}><div><textarea onChange={handleChange} name=\"message\" value={state.message} placeholder=\"Message:\" rows='5' cols='30'></textarea></div></div>\n        {state.fromdate!==''&&state.todate!==\"\"&&state.message!==''?<button onClick={handleSubmit} className=\"stud-button\" type=\"submit\">Apply</button>:<button disabled style={{cursor:'not-allowed'}} className=\"stud-button\" type=\"submit\">Apply</button>}\n      </Box>\n    </>\n  );\n}\n\nexport default ApplyLeave;\n"]},"metadata":{},"sourceType":"module"}